/*Today is 8th May,2022.
 *The website of today's daily promble is https://leetcode.cn/problems/find-all-duplicates-in-an-array/.
 *Have a good day!ğŸŒ¸ğŸŒ¸ğŸŒ¸
 */
class Solution {
public:
    vector<int> findDuplicates(vector<int>& nums) {
        vector<int>twice;
        //ç”±äºåªèƒ½ä½¿ç”¨å¸¸é‡çš„é¢å¤–ç©ºé—´ï¼Œç›´æ¥åœ¨åŸåœ°è¿›è¡Œæ“ä½œ
        //ç”±äºæ•´æ•°èŒƒå›´é™åˆ¶ä¸º1~nï¼Œå› æ­¤å¯ä»¥å°†æ•´æ•°1~næ˜ å°„åˆ°æ•°ç»„çš„ä¸‹æ ‡0~n-1
        //å°†æ•°ç»„numsç”±è®°å½•å…ƒç´ å€¼æ›´æ”¹ä¸ºè®°å½•å…ƒç´ ä¸ªæ•°çš„æ•°ç»„
        int index=0,temp=0;
        for(int i=0;i<nums.size();i++)
        {
            //nums[i]ä¸ºæ­£æ•´æ•°æ˜¯å…ƒç´ å€¼ï¼Œä¸º0æˆ–è´Ÿæ•´æ•°æ˜¯å…ƒç´ i+1çš„ä¸ªæ•°
            if(nums[i]>0)
            {
                //indexæ˜¯æ•°ç»„numså­˜å‚¨å…ƒç´ nums[i]ä¸ªæ•°çš„ä¸‹æ ‡
                index=nums[i]-1;
                nums[i]=0;
                while(nums[index]>0)
                {
                    //æŠŠè¿™ä¸ªä½ç½®çš„å…ƒç´ å€¼ä¿æŠ¤èµ·æ¥
                    temp=nums[index]-1;
                    //å†æ”¹ä¸ºè®°å½•å…ƒç´ ä¸ªæ•°çš„
                    nums[index]=-1;
                    //æ¥åŠ›ä¸‹å»
                    index=temp;
                }
                nums[index]--;
            }
        }
        for(int i=0;i<nums.size();i++)
        {
            if(nums[i]<-1)
            {
                twice.emplace_back(i+1);
            }
        }
        return twice;
    }
};
